function getCollaborations(){for(var e=0,a=0;a<agency.length;a++)e+=parseInt(agency[a].agency_collaboration);return e}function present_in_array(e,a){for(var n=0;n<a.length;n++)if(a[n].match(e))return!0;return!1}function show_current_agency(e){if(e!=current_agency){current_agency=e;var a="";if(1==current_section){if(present_in_array(e,all_agency_id)){a="<h3 class='title_agence'>"+all_agency[e].abbrev+"</h3><div class='agency-name'><p>Name : "+all_agency[e].name+"</p></div><div class='creation-date'><p>Date of creation : "+all_agency[e].creation+"</p></div><div class='creation-date'><p>Annual budget : "+(0==all_agency[e].budget?"UNKNOW":all_agency[e].budget+" millions $")+"</p></div><div class='missions-number'><p>Mission number : "+all_agency[e].misisons.length+"</p></div><div class='pad-name'><p>Pad number : "+all_agency[e].pads.length+"</p></div><div class='number-rocket-sent'>Number of launched : "+all_agency[e].launches.length+"</div>",section_one.querySelector(".description-agency").innerHTML=a;var n=0;if(all_agency[e].launches.length>0)var n=all_agency[e].launches.length/(all_agency[e].launches.length+all_agency[e].pads_launches.length);n=n.toFixed(2),graph_one[0].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+n+")",graph_one[0].querySelector(".graphic-agency-title").innerHTML=all_agency[e].launches.length+" out of "+(all_agency[e].launches.length+all_agency[e].pads_launches.length)+" : local_launches";var t=all_agency[e].pads.length/pads_total;t=t.toFixed(2);graph_one[1].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+t+")",graph_one[1].querySelector(".graphic-agency-title").innerHTML=all_agency[e].pads.length+" out of "+pads_total+" : pads in the world";var r=all_agency[e].misisons.length/missions_total;r=r.toFixed(2),graph_one[2].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+r+")",graph_one[2].querySelector(".graphic-agency-title").innerHTML=all_agency[e].misisons.length+" out of "+missions_total+" : all missions in the world";var c=parseInt(all_agency[e].collaboration)/collaboration_total;c=c.toFixed(2),graph_one[3].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+c+")",graph_one[3].querySelector(".graphic-agency-title").innerHTML=parseInt(all_agency[e].collaboration)+" out of "+collaboration_total+" : all collaborations in the world"}else a+="<h3 class='title_agence'>We don't have information</h3>",section_one.querySelector(".description-agency").innerHTML=a,graph_two[0].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[0].querySelector(".graphic-agency-title").innerHTML="0 out of UNKNOW : local_launches",graph_two[1].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[1].querySelector(".graphic-agency-title").innerHTML="0 out of "+pads_total+"all pads in the world",graph_two[2].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[2].querySelector(".graphic-agency-title").innerHTML="0 out of "+missions_total+"all missions in the world",graph_two[3].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[3].querySelector(".graphic-agency-title").innerHTML="0 out of "+collaboration_total+"all collaborations in the world";current_section=2}else{if(present_in_array(e,all_agency_id)){a="<h3 class='title_agence'>"+all_agency[e].abbrev+"</h3><div class='agency-name'><p>Name : "+all_agency[e].name+"</p></div><div class='creation-date'><p>Date of creation : "+all_agency[e].creation+"</p></div><div class='creation-date'><p>Annual budget : "+(0==all_agency[e].budget?"UNKNOW":all_agency[e].budget+" millions $")+"</p></div><div class='missions-number'><p>Mission number : "+all_agency[e].misisons.length+"</p></div><div class='pad-name'><p>Pad number : "+all_agency[e].pads.length+"</p></div><div class='number-rocket-sent'>Number of launched : "+all_agency[e].launches.length+"</div>",section_two.querySelector(".description-agency").innerHTML=a;var n=0;if(all_agency[e].launches.length>0)var n=all_agency[e].launches.length/(all_agency[e].launches.length+all_agency[e].pads_launches.length);n=n.toFixed(2),graph_two[0].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+n+")",graph_two[0].querySelector(".graphic-agency-title").innerHTML=all_agency[e].launches.length+" out of "+(all_agency[e].launches.length+all_agency[e].pads_launches.length)+" : local_launches";var t=all_agency[e].pads.length/pads_total;t=t.toFixed(2);graph_two[1].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+t+")",graph_two[1].querySelector(".graphic-agency-title").innerHTML=all_agency[e].pads.length+" out of "+pads_total+" : pads in the world";var r=all_agency[e].misisons.length/missions_total;r=r.toFixed(2),graph_two[2].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+r+")",graph_two[2].querySelector(".graphic-agency-title").innerHTML=all_agency[e].misisons.length+" out of "+missions_total+" : all missions in the world";var c=parseInt(all_agency[e].collaboration)/collaboration_total;c=c.toFixed(2),graph_two[3].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+c+")",graph_two[3].querySelector(".graphic-agency-title").innerHTML=parseInt(all_agency[e].collaboration)+" out of "+collaboration_total+" : all collaborations in the world"}else a+="<h3 class='title_agence'>We don't have information</h3>",section_two.querySelector(".description-agency").innerHTML=a,graph_two[0].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[0].querySelector(".graphic-agency-title").innerHTML="0 out of UNKNOW : local_launches",graph_two[1].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[1].querySelector(".graphic-agency-title").innerHTML="0 out of "+pads_total+"all pads in the world",graph_two[2].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[2].querySelector(".graphic-agency-title").innerHTML="0 out of "+missions_total+"all missions in the world",graph_two[3].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[3].querySelector(".graphic-agency-title").innerHTML="0 out of "+collaboration_total+"all collaborations in the world";current_section=1}}}function getmissions(e,a){for(var n=[],t=0;t<a.length;t++)missions[t].mission_id_agency==e&&n.push(missions[t]);return n}function getpads(e,a){for(var n=[],t=0;t<a.length;t++)pads[t].pad_id_agency==e&&n.push(pads[t]);for(var r=0;r<n.length;r++)for(var c=r+1;c<n.length;c++)n[r].pad_id_agency==n[c].pad_id_agency&&n.splice(c,1);return n}function getlocations(e,a){for(var n=[],t=0;t<e.length;t++)for(var r=0;r<a.length;r++)a[r].location_id==e[t].pad_id_location&&n.push(a[t]);return n}function getpadslaunches(e,a){for(var n=[],t=0;t<e.length;t++)for(var r=0;r<a.length;r++)a[r].launche_id==e[t].pad_id_location&&n.push(a[t]);return n}function getlaunches(e,a){for(var n=[],t=0;t<a.length;t++)a[t].launche_id_agency==e&&n.push(a[t]);return n}function getrockets(e,a,n){for(var t=0;t<e.length;t++)for(var r=0;r<a.length;r++)a[r].rocket_id==e[t].launche_id_rocket&&n.push(a[t]);return n}for(var all_agency=[],all_agency_id=[],current_section=1,current_agency="",launches_total=launches.length,pads_total=pads.length,missions_total=missions.length,collaboration_total=getCollaborations(),section_one=document.querySelector(".agency.agency-one"),section_two=document.querySelector(".agency.agency-two"),graph_one=document.querySelectorAll(".agency.agency-one .graph-section1"),graph_two=document.querySelectorAll(".agency.agency-two .graph-section2"),agency_stats=function(e,a,n,t,r,c,l){this.id=e.agency_id,this.name=e.agency_name,this.creation=e.agency_creation_year,this.budget=e.agency_budget,this.collaboration=e.agency_collaboration,this.abbrev=e.agency_abbrev,this.pads=l,this.pads_location=a,this.pads_launches=t,this.launches=n,this.misisons=r,this.rockets=c,this.show_console=function(){console.log(this)}},i=0;i<agency.length;i++){var agency_current=agency[i],agency_current_missions=getmissions(agency_current.agency_id,missions),agency_current_pads=getpads(agency_current.agency_id,pads),agency_current_pads_location=getlocations(agency_current_pads,countries),agency_current_pads_launches=getpadslaunches(agency_current_pads,launches),agency_current_launches=getlaunches(agency_current.agency_id,launches),agency_current_launches_rockets=getrockets(agency_current_launches,rockets,[]);agency_current_launches_rockets=getrockets(agency_current_pads_launches,rockets,agency_current_launches_rockets);var current_name=agency[i].agency_id;all_agency[current_name]=new agency_stats(agency_current,agency_current_pads_location,agency_current_launches,agency_current_pads_launches,agency_current_missions,agency_current_launches_rockets,agency_current_pads),all_agency_id[i]=agency[i].agency_id}