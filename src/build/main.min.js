function getmissions(n,e){for(var c=[],a=0;a<e.length;a++)missions[a].mission_id_agency==n&&c.push(missions[a]);return c}function getpads(n,e){for(var c=[],a=0;a<e.length;a++)pads[a].pad_id_agency==n&&c.push(pads[a]);for(var s=0;s<c.length;s++)for(var r=s+1;r<c.length;r++)c[s].pad_id_agency==c[r].pad_id_agency&&c.splice(r,1);return c}function getlocations(n,e){for(var c=[],a=0;a<n.length;a++)for(var s=0;s<e.length;s++)e[s].location_id==n[a].pad_id_location&&c.push(e[a]);return c}function getpadslaunches(n,e){for(var c=[],a=0;a<n.length;a++)for(var s=0;s<e.length;s++)e[s].launche_id==n[a].pad_id_location&&c.push(e[a]);return c}function getlaunches(n,e){for(var c=[],a=0;a<e.length;a++)e[a].launche_id_agency==n&&c.push(e[a]);return c}function getrockets(n,e,c){for(var a=0;a<n.length;a++)for(var s=0;s<e.length;s++)e[s].rocket_id==n[a].launche_id_rocket&&c.push(e[a]);return c}for(var all_agency=[],agency_stats=function(n,e,c,a,s,r,t){this.id=n.agency_id,this.name=n.agency_name,this.abbrev=n.agency_abbrev,this.pads=t,this.pads_location=e,this.pads_launches=a,this.launches=c,this.misisons=s,this.rockets=r,this.show_console=function(){console.log(this)}},i=0;i<agency.length;i++){var agency_current=agency[i],agency_current_missions=getmissions(agency_current.agency_id,missions),agency_current_pads=getpads(agency_current.agency_id,pads),agency_current_pads_location=getlocations(agency_current_pads,countries),agency_current_pads_launches=getpadslaunches(agency_current_pads,launches),agency_current_launches=getlaunches(agency_current.agency_id,launches),agency_current_launches_rockets=getrockets(agency_current_launches,rockets,[]);agency_current_launches_rockets=getrockets(agency_current_pads_launches,rockets,agency_current_launches_rockets),all_agency[agency[i].agency_id]=new agency_stats(agency_current,agency_current_pads_location,agency_current_launches,agency_current_pads_launches,agency_current_missions,agency_current_launches_rockets,agency_current_pads)}console.log(all_agency);