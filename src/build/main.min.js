function present_in_array(e,n){for(var a=0;a<n.length;a++)if(n[a].match(e))return!0;return!1}function show_current_agency(e){var n="";if(console.log(e),1==current_section){if(present_in_array(e,all_agency_id)){n="<h3 class='title_agence'>"+all_agency[e].abbrev+"</h3><div class='agency-name'><p>Name : "+all_agency[e].name+"</p></div><div class='creation-date'><p>Date of creation : "+all_agency[e].creation+"</p></div><div class='creation-date'><p>Annual budget : "+(0==all_agency[e].budget?"UNKNOW":all_agency[e].budget)+"</p></div><div class='missions-number'><p>Mission number : "+all_agency[e].misisons.length+"</p></div><div class='pad-name'><p>Pad number : "+all_agency[e].pads.length+"</p></div><div class='number-rocket-sent'>Number of launched : "+all_agency[e].launches.length+"</div>",section_one.querySelector(".description-agency").innerHTML=n;var a=0;if(all_agency[e].launches.length>0)var a=all_agency[e].launches.length/(all_agency[e].launches.length+all_agency[e].pads_launches.length);a=a.toFixed(2),graph_one[0].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+a+")",graph_one[0].querySelector(".graphic-agency-title").innerHTML=a+"% of local_launches";var c=all_agency[e].pads.length/pads_total;c=c.toFixed(2),graph_one[1].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+c+")",graph_one[1].querySelector(".graphic-agency-title").innerHTML=c+"% of all pads"}else n+="<h3 class='title_agence'>We don't have information</h3>",section_one.querySelector(".description-agency").innerHTML=n,graph_one[0].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_one[0].querySelector(".graphic-agency-title").innerHTML="0.00% of local_launches",graph_one[1].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_one[1].querySelector(".graphic-agency-title").innerHTML="0.00% of all pads";current_section=2}else{if(present_in_array(e,all_agency_id)){n="<h3 class='title_agence'>"+all_agency[e].abbrev+"</h3><div class='agency-name'><p>Name : "+all_agency[e].name+"</p></div><div class='creation-date'><p>Date of creation : "+all_agency[e].creation+"</p></div><div class='creation-date'><p>Annual budget : "+(0==all_agency[e].budget?"UNKNOW":all_agency[e].budget)+"</p></div><div class='missions-number'><p>Mission number : "+all_agency[e].misisons.length+"</p></div><div class='pad-name'><p>Pad number : "+all_agency[e].pads.length+"</p></div><div class='number-rocket-sent'>Number of launched : "+all_agency[e].launches.length+"</div>",section_two.querySelector(".description-agency").innerHTML=n;var a=0;if(all_agency[e].launches.length>0)var a=all_agency[e].launches.length/(all_agency[e].launches.length+all_agency[e].pads_launches.length);a=a.toFixed(2),graph_two[0].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+a+")",graph_two[0].querySelector(".graphic-agency-title").innerHTML=a+"% of local_launches";var c=all_agency[e].pads.length/pads_total;c=c.toFixed(2),graph_two[1].querySelector(".graphic-agency-current-purcent").style="transform: scaleX("+c+")",graph_two[1].querySelector(".graphic-agency-title").innerHTML=c+"% of local_launches"}else n+="<h3 class='title_agence'>We don't have information</h3>",section_two.querySelector(".description-agency").innerHTML=n,graph_two[0].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[0].querySelector(".graphic-agency-title").innerHTML="0.00% of local_launches",graph_two[1].querySelector(".graphic-agency-current-purcent").style="transform: scaleX(0)",graph_two[1].querySelector(".graphic-agency-title").innerHTML="0.00% of local_launches";current_section=1}}function getmissions(e,n){for(var a=[],c=0;c<n.length;c++)missions[c].mission_id_agency==e&&a.push(missions[c]);return a}function getpads(e,n){for(var a=[],c=0;c<n.length;c++)pads[c].pad_id_agency==e&&a.push(pads[c]);for(var r=0;r<a.length;r++)for(var t=r+1;t<a.length;t++)a[r].pad_id_agency==a[t].pad_id_agency&&a.splice(t,1);return a}function getlocations(e,n){for(var a=[],c=0;c<e.length;c++)for(var r=0;r<n.length;r++)n[r].location_id==e[c].pad_id_location&&a.push(n[c]);return a}function getpadslaunches(e,n){for(var a=[],c=0;c<e.length;c++)for(var r=0;r<n.length;r++)n[r].launche_id==e[c].pad_id_location&&a.push(n[c]);return a}function getlaunches(e,n){for(var a=[],c=0;c<n.length;c++)n[c].launche_id_agency==e&&a.push(n[c]);return a}function getrockets(e,n,a){for(var c=0;c<e.length;c++)for(var r=0;r<n.length;r++)n[r].rocket_id==e[c].launche_id_rocket&&a.push(n[c]);return a}for(var all_agency=[],all_agency_id=[],current_section=1,launches_total=launches.length,pads_total=pads.length,section_one=document.querySelector(".agency.agency-one"),section_two=document.querySelector(".agency.agency-two"),graph_one=document.querySelectorAll(".agency.agency-one .graph-section1"),graph_two=document.querySelectorAll(".agency.agency-two .graph-section2"),agency_stats=function(e,n,a,c,r,t,l){this.id=e.agency_id,this.name=e.agency_name,this.creation=e.agency_creation_year,this.budget=e.agency_budget,this.collaboration=e.agency_collaboration,this.abbrev=e.agency_abbrev,this.pads=l,this.pads_location=n,this.pads_launches=c,this.launches=a,this.misisons=r,this.rockets=t,this.show_console=function(){console.log(this)}},i=0;i<agency.length;i++){var agency_current=agency[i],agency_current_missions=getmissions(agency_current.agency_id,missions),agency_current_pads=getpads(agency_current.agency_id,pads),agency_current_pads_location=getlocations(agency_current_pads,countries),agency_current_pads_launches=getpadslaunches(agency_current_pads,launches),agency_current_launches=getlaunches(agency_current.agency_id,launches),agency_current_launches_rockets=getrockets(agency_current_launches,rockets,[]);agency_current_launches_rockets=getrockets(agency_current_pads_launches,rockets,agency_current_launches_rockets);var current_name=agency[i].agency_id;all_agency[current_name]=new agency_stats(agency_current,agency_current_pads_location,agency_current_launches,agency_current_pads_launches,agency_current_missions,agency_current_launches_rockets,agency_current_pads),all_agency_id[i]=agency[i].agency_id,all_agency[current_name].show_console()}